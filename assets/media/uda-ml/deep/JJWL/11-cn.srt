1
00:00:00,000 --> 00:00:04,035
我们刚刚学到可以通过指定过滤器数量和每个过滤器的大小

2
00:00:04,035 --> 00:00:08,219
控制卷积层的行为

3
00:00:08,220 --> 00:00:10,830
例如 要增加卷积层中的节点数量

4
00:00:10,830 --> 00:00:14,355
你可以增加过滤器数量

5
00:00:14,355 --> 00:00:19,515
要增大所检测过滤器的大小 你可以增大过滤器的大小

6
00:00:19,515 --> 00:00:22,649
但是还有更多超参数

7
00:00:22,649 --> 00:00:27,725
其中一个就是卷积的 stride

8
00:00:27,725 --> 00:00:32,158
stride 是指过滤器在图片上每次滑动时移动的距离(用像素数量表示)

9
00:00:32,158 --> 00:00:36,189
在上个视频中的示例中 stride 是 1

10
00:00:36,189 --> 00:00:40,335
我们在图片上水平和垂直地移动卷积窗

11
00:00:40,335 --> 00:00:41,850
一次移动一个像素

12
00:00:41,850 --> 00:00:44,820
stride 1 使卷积层

13
00:00:44,820 --> 00:00:48,829
和输入图片的宽和高差不多

14
00:00:48,829 --> 00:00:54,505
在此动画中 我们用紫色卷积层表示堆叠特征映射

15
00:00:54,505 --> 00:00:57,381
如果让 stride 等于 2

16
00:00:57,381 --> 00:01:01,868
卷积层就大约等于图片宽和高的一半

17
00:01:01,868 --> 00:01:06,480
说大约等于是因为它取决于你对图片边缘的处理

18
00:01:06,480 --> 00:01:09,194
要了解边缘处理带来的影响

19
00:01:09,194 --> 00:01:13,480
看看这个 5x5 灰度图片小例子

20
00:01:13,480 --> 00:01:17,355
假设现在有个不同的过滤器 宽和高是 2

21
00:01:17,355 --> 00:01:19,484
stride 也是 2

22
00:01:19,483 --> 00:01:24,030
和之前一样 我们让过滤器从图片左上角开始

23
00:01:24,030 --> 00:01:29,694
计算卷积层中第一个节点的值

24
00:01:29,694 --> 00:01:34,370
然后让过滤器向右移动两个单元 并执行相同的操作

25
00:01:34,370 --> 00:01:37,819
但是当我们让过滤器再向右移动两个单元时

26
00:01:37,819 --> 00:01:40,659
过滤器跑到图片外面了

27
00:01:40,659 --> 00:01:42,079
现在该怎么办？

28
00:01:42,078 --> 00:01:46,158
还保留对应的卷积节点吗？

29
00:01:46,159 --> 00:01:49,760
暂时先用问号填充

30
00:01:49,760 --> 00:01:54,159
过滤器跑到图片外的位置 并按计划继续

31
00:01:54,159 --> 00:01:59,450
现在如何处理过滤器跑到图片外的这些节点？

32
00:01:59,450 --> 00:02:03,344
第一种选择是直接删掉它们

33
00:02:03,343 --> 00:02:06,347
注意 如果这么做的话

34
00:02:06,349 --> 00:02:11,919
我们的卷积层可能就没有图片中某些区域的信息

35
00:02:11,919 --> 00:02:16,939
这个图片的右侧和底部边缘就是这种情况

36
00:02:16,937 --> 00:02:18,861
第二种选择是

37
00:02:18,861 --> 00:02:22,007
我们可以提前规划 在图片边缘填充 0

38
00:02:22,008 --> 00:02:27,043
让过滤器有更多的移动空间

39
00:02:27,044 --> 00:02:29,659
现在当我们填充卷积层时

40
00:02:29,657 --> 00:02:32,958
就可以获得图片中每个区域的信息了

41
00:02:32,960 --> 00:02:36,439
我们可以通过为卷积层设定填充

42
00:02:36,437 --> 00:02:41,083
来指定选择哪个选项

43
00:02:41,085 --> 00:02:44,770
如果你选择第一个选项

44
00:02:44,770 --> 00:02:47,860
能够接受卷积层可能会丢失信息

45
00:02:47,860 --> 00:02:49,885
则将填充设为 'valid'

46
00:02:49,883 --> 00:02:52,823
另一方面 如果选择第二种情形

47
00:02:52,824 --> 00:02:54,938
则将填充设为 'same'

48
00:02:54,937 --> 00:02:57,400
如果你想详细了解填充

49
00:02:57,401 --> 00:03:00,528
请参阅下方的可选阅读资料

50
00:03:00,530 --> 00:03:04,000
在下节课 我们将演示

51
00:03:04,000 --> 00:03:07,770
在调试卷积层时 如何向 Keras 传入这些参数

