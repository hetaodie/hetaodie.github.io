---
layout: post
title: CGGeometry详解
description: 本文详细讲解了CGGeometry的详细用法
categories: [iOS]
tags: [iOS, CGGeometry]

image: /assets/media/NSDate/NSDate.png
---

![]({{page.image }})

**目录**

* 目录
 {:toc  }

# NSDate初始化

// 获取当前日期<br />
`NSDate *date = [NSDate date];`


 // 获取从某个日期开始往前或者往后多久的日期，此处60代表60秒，如果需要获取之前的，将60改为-60即可<br />
`date = [[NSDate alloc] initWithTimeInterval:60 sinceDate:[NSDate date]];`

# 日期的比较

{% highlight ruby %}

SDate *currentDate = [NSDate date];
         
        // 比当前时间晚一个小时的时间
        NSDate *laterDate = [[NSDate alloc] initWithTimeInterval:60*60 sinceDate:[NSDate date]];
         
        // 比当前时间早一个小时的时间
        NSDate *earlierDate = [[NSDate alloc] initWithTimeInterval:-60*60 sinceDate:[NSDate date]];
         
        // 比较哪个时间迟
        if ([currentDate laterDate:laterDate]) {
            // 打印结果：current-2013-08-16 09:25:54 +0000比later-2013-08-16 10:25:54 +0000晚
            NSLog(@"current-%@比later-%@晚",currentDate,laterDate);
        }
         
        // 比较哪个时间早
        if ([currentDate earlierDate:earlierDate]) {
            // 打印结果：current-2013-08-16 09:25:54 +0000 比 earlier-2013-08-16 08:25:54 +0000 
            NSLog(@"current-%@ 比 earlier-%@ 早",currentDate,earlierDate);
        }
         
        if ([currentDate compare:earlierDate]==NSOrderedDescending) {
            // 打印结果
            NSLog(@"current 晚");
        }
        if ([currentDate compare:currentDate]==NSOrderedSame) {
            // 打印结果
            NSLog(@"时间相等");
        }
        if ([currentDate compare:laterDate]==NSOrderedAscending) {
            // 打印结果
            NSLog(@"current 早");
        }
        
{% endhighlight %}

# iOS 将时间NSDate转化为毫秒时间戳互换

   对于将NSDate类型转换为时间戳，相信大家肯定都会，这样的示例代码，在百度等搜索引擎上面一搜索就是一大篇的东西，但是，大家有没有注意到的是 通过那些方法转换得到的时间戳是 10位的数值，这个数值在转化为 NSDate类型的时候，就会出点儿错，你会发现，每一个时间的 毫秒都是为000的；<br />
   
   其实呢，并不是我们代码出错了，而是因为 [[NSDate date] timeIntervalSince1970] 虽然可以获取到后面的毫秒、微秒 ，但是在保存的时候省略掉了。如一个时间戳不省略的情况下为 1395399556.862046 ，省略掉后为一般所见 1395399556 。所以想取得毫秒时用获取到的时间戳 *1000 ，想取得微秒时 用取到的时间戳 * 1000 * 1000 。这样就解释了上面的10位数值的问题，当你取毫秒的时候，就会变成13位数值了。我想这样大家应该明白了吧！
   
   //将时间戳转换为NSDate类型
   
{% highlight ruby %}

-(NSDate *)getDateTimeFromMilliSeconds:(long long) miliSeconds
{
NSTimeInterval tempMilli = miliSeconds;
NSTimeInterval seconds = tempMilli/1000.0;//这里的.0一定要加上，不然除下来的数据会被截断导致时间不一致
NSLog(@"传入的时间戳=%f",seconds);
return [NSDate dateWithTimeIntervalSince1970:seconds];
}

{% endhighlight %}

//将NSDate类型的时间转换为时间戳,从1970/1/1开始

{% highlight ruby %}

-(long long)getDateTimeTOMilliSeconds:(NSDate *)datetime
{
NSTimeInterval interval = [datetime timeIntervalSince1970];
NSLog(@"转换的时间戳=%f",interval);
long long totalMilliseconds = interval*1000 ;
NSLog(@"totalMilliseconds=%llu",totalMilliseconds);
return totalMilliseconds;
}

{% endhighlight %}

# 

{% highlight ruby %}
{% endhighlight %}

<!--本文所用的超链接-->

[1]:https://github.com/hetaodie/AVPlayerDemo